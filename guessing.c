#include <stdio.h>
#include <stdlib.h>
#include <time.h>

#define NUMERO_DE_TENTATIVAS 5

int main() {

    
    printf("\n\n\n\n____________________________________________________________________________________________________\n");
    printf("____________________________________________________________________________________________________\n");
    printf("_________________________????_______________________________________________________________________\n");
    printf("_______________________????????_____________________________________________________________________\n");
    printf("____________________????????????____________________________________________________________________\n");
    printf("___________________???????????????______________________________ BEM VINDO AO JOGO _________________\n");
    printf("________________?????????????????????__________________________________ DE _________________________\n");
    printf("_?????________????????????????????????___??????_____________________ GUESSING! _____________________\n");
    printf("__?????______????????????????????????????????????___________________________________________________\n");
    printf("___?????____?????????????????????????????______???__________________________________________________\n");
    printf("____?????___????????????????????????????_______???__________________________________________________\n");
    printf("____?????????????????????????????????????______???__________________________________________________\n");
    printf("____?????????????????????????????????????______???__________________________________________________\n");
    printf("_____????????????????????????????????????_____???___________________________________________________\n");
    printf("______??????????????????????????????????____????____________________________________________________\n");
    printf("_______?????????????????????????????????__????______________________________________________________\n");
    printf("________????????????????????????????????????________________________________________________________\n");
    printf("__________???????????????????????????????___________________________________________________________\n");
    printf("______________???????????????????????_______________________________________________________________\n");
    printf("__________________????????????????__________________________________________________________________\n");
    printf("____________________________________________________________________________________________________\n\n\n\n");

    

    

    int segundos = time(0);
    srand(segundos);

    int numerogrande = rand();

    int numerosecreto = numerogrande % 100;
    int chute;
    int tentativa = 1;
    int acertou = 0;
    double pontos = 1000;

    int continuar;

    int nivel;
    printf("\nQual nivel de dificuldade voce deseja?\n");
    printf("(1) Facil / (2) Normal / (3) Dificil / (4) Impossivel / (5) Para sair\n ");
    printf("Escolha: ");
    scanf("%d", &nivel);

    int numerodetentativas;

    if(nivel == 1){
        numerodetentativas = 30;
    } else if (nivel == 2) {
        numerodetentativas = 10;
    } else if (nivel == 3) {
        numerodetentativas = 6;
    } else if (nivel == 4){
        numerodetentativas = 1;
    } else if (nivel == 5){
        return 0;
    }


    for(int i = 1; i <= numerodetentativas; i++){
        
        printf("\nTentativa %d\n", tentativa);
        printf("Qual seu chute?\n");
        scanf("%d", &chute);
        printf("\nSeu chute foi %d\n", chute);

        if (chute < 0){
            printf("\nVoce nao pode digitar numeros negativos!\n");
            printf("Tente novamente!\n");

            continue;
        }
        
        acertou = chute == numerosecreto;
        int maior = chute > numerosecreto;

        if (acertou){
            break;
        } 
        else if (maior) {
            printf("O numero secreto e menor que seu chute!\n");
        }
        else {
            printf("O numero secreto e maior que seu chute!\n");
        }
        
        tentativa++;

        double pontosperdidos = abs(chute - numerosecreto) / 2.0; 

        pontos = pontos - pontosperdidos;
    
    }

    printf ("\n______________________________________________________________________________\n");
    printf ("________________________________ Fim de Jogo! ________________________________\n");
    printf ("______________________________________________________________________________\n");
    
    if(acertou){
        
        printf("______________________________________________________________________________\n");
        printf("______________________?????????_______________________________________________\n");
        printf("____________________??__________??____________________________________________\n");
        printf("______?????_______??______________??__________________________________________\n");
        printf("_____?_____?____??_____??____??_____??________________________________________\n");
        printf("_____?_____?___??______??____??_______??__ Parabens! Voce acertou! ___________\n");
        printf("_____?____?__??________??____??________??_____________________________________\n");
        printf("______?___?___?_________________________??__ Voce acertou em %.2d tentativas! __\n", tentativa);
        printf("____????????????________________________??____________________________________\n");
        printf("___?____________?_??_____________??_____??____________________________________\n");
        printf("__??____________?__??____________??_____??____ Total de Pontos %.1f! ________\n", pontos);
        printf("_??___???????????____??________??_______??____________________________________\n");
        printf("_?_______________?_____???????_________??_____________________________________\n");
        printf("_??______________?____________________??______________________________________\n");
        printf("__?___????????????___________________??_______________________________________\n");
        printf("__??___________?__??________________??________________________________________\n");
        printf("___????????????_____??____________??__________________________________________\n");
        printf("_______________________???????????____________________________________________\n");
        printf("______________________________________________________________________________\n\n\n");
        
    } else {

        printf("______________________________________________________________________________\n");
        printf("________?????????????????????_________________________________________________\n"); 
        printf("______??????_____________??????_______________________________________________\n"); 
        printf("_____?????_________________??????_____________________________________________\n"); 
        printf("____????_____________________?????______________ VOCE PERDEU! ________________\n"); 
        printf("___????_______________________?????___________________________________________\n"); 
        printf("__????_____????_______????______???___________ TENTE NOVAMENTE! ______________\n"); 
        printf("__???_____??????_____??????_____????__________________________________________\n"); 
        printf("_????_____??????_____??????______???__________________________________________\n"); 
        printf("_???_______????_______????_______????_________________________________________\n"); 
        printf("_???______________________________???_________________________________________\n"); 
        printf("_???______________________________???_________________________________________\n"); 
        printf("_???______________________________???_________________________________________\n"); 
        printf("_???____________?????____________????_________________________________________\n"); 
        printf("_????________???????????_________???__________________________________________\n"); 
        printf("__???______?????_____?????______????__________________________________________\n"); 
        printf("__????____???___________???____????___________________________________________\n"); 
        printf("___????___??_____________??___????____________________________________________\n"); 
        printf("____????____________________?????_____________________________________________\n"); 
        printf("_____???????????????????????????______________________________________________\n"); 
        printf("_______???????????????????????________________________________________________\n"); 
        printf("______________________________________________________________________________\n\n\n");
        
    }
    
    
    
    printf ("_________________________________________________\n");
    printf("Gostaria de jogar novamente?\n");
    printf("Digite (1) Para sim e (2) Para nao!\n");
    printf("Digite a opcao: ");
    scanf("%d", &continuar);

    if(continuar == 1){
        main();
    }else {
        return 0;
    }
    
}